# 实施计划与操作日志更新流程

> **适用范围**：`/.codex/implementation-plan.md`、`.codex/operations-log.md` 以及任何与计划执行状态相关的文档。

## 1. 更新触发条件
1. 完成实施计划中的任一步骤（勾选 `[ ] → [x]`）。
2. 调整步骤顺序、拆分/合并任务、或新增阶段。
3. 遇到阻塞需要暂停/回滚时。

## 2. 执行顺序（必须遵守）
1. **记录事实**：在 `.codex/operations-log.md` 添加时间、工具、命令、结果。
2. **同步计划**：打开 `.codex/implementation-plan.md`，更新对应步骤的状态、补充产出与校验备注。若步骤被调整，务必追加“变更记录”说明原因。
3. **必要时通知**：若阻塞或重大调整，需在 commit/pull request 描述中引用本流程文档。

## 3. 模板
```
## Phase X：...
- [x] **Step X.Y** ...  
  - 产出：...（完成时间：YYYY-MM-DD HH:MM）  
  - 校验：...（命令/日志）
```

Operations Log 示例：
```
| 2025-11-10T10:00:00+08:00 | shell | `bun test` | 通过 1 项基线测试 |
```

## 4. 审核要点
- 没有日志记录的步骤视为未完成。
- 若计划与实际不符，必须先修正计划再继续编码。
- 每个 Phase 结束需自检一次，确认所有子步骤都有对应日志与产出链接。
