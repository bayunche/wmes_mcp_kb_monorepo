{
  "timestamp": "2025-11-20T02:07:00+08:00",
  "checklist": {
    "interface_contract": true,
    "tech_choices": true,
    "risks_identified": true,
    "verification_plan": true
  },
  "notes": {
    "interface_contract": "Worker start + VectorClient 仅依赖 MODELS_DIR, model_settings；嵌入/重排默认本地；ModelSettingsPage 暴露 embedding/tagging/metadata/ocr/rerank/structure 的配置入口",
    "tech_choices": "VectorClient 通过 @xenova/transformers 加载本地 ONNX；LLM 相关功能使用 generateStructureViaModel / generateSemanticMetadataViaModel / generateTagsViaModel (OpenAI/Ollama 兼容)",
    "risks_identified": "若 MODELS_DIR 无对应权重且未配置 provider=local，会退化为 deterministicVector；需提醒部署时同步模型；语义功能仍需有效模型配置",
    "verification_plan": "在具备 Bun CLI 的环境运行 `bun test` 和 `bun --cwd apps/web x vite build`，并通过 Web 控制台验证本地模型选择器写入 /model-settings 后 Worker 能加载"
  }
}